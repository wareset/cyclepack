/* eslint-disable */
var e=Boolean,r=Error,a=parseInt,t=Date,n=Number,s=String,c=RegExp,i=s.fromCharCode,u=JSON.stringify,o=Object.prototype,f=o.hasOwnProperty,h=o.toString;function l(e){for(var r,a=++e[0],t="";a>0;)t=i(97+(r=(a-1)%26))+t,a=(a-r)/26|0;return t}var b=/^0\d|\D/;function p(e,r){return r?'\\"'+e+'\\"':'"'+e+'"'}var y=function(e,r,a,t,n){var s=["{"],c="";for(var i in e)f.call(e,i)&&(s.push(c,v(i,r,a,t,n),":",v(e[i],r,a,t,n)),c=",");return s.push("}"),s.join("")};function v(e,r,a,t,n){var s=r.get(e);if(s)return s;switch(r.set(e,l(a)),s=h.call(e).slice(8,-1)){case"BigInt":return"L"+v(""+e,r,a,t,n);case"Object":return y(e,r,a,t,n);case"Function":case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return"Z"+v(""+(t&&t(e)||e.name),r,a,t,n);case"Boolean":return"P"+ +e;case"Symbol":return"H"+v(e.toString().slice(7,-1),r,a,t,n);case"Error":var c=y(e,r,a,t,n).slice(0,-1);return c.length>1&&(c+=","),"E"+e.name.slice(0,2)+c+v("message",r,a,t,n)+":"+v(e.message,r,a,t,n)+"}";case"Number":return e===+e?e<0?"-"+v(-e,r,a,t,n):""+e:"N"+v(+e,r,a,t,n);case"Date":return"D"+v(e.getTime(),r,a,t,n);case"String":return e===""+e?e!==""+ +e?function(e,r){return e=u(e),r?u(e).slice(1,-1):e}(e,n):"Q"+v(+e,r,a,t,n):"S"+v(""+e,r,a,t,n);case"RegExp":return"R"+v(e.source+","+e.flags,r,a,t,n);case"Array":var i,o=["["],f="",A=0;for(var g in e){if(b.test(g))o.push(f,v(g,r,a,t,n),":"),f="";else if((i=+g)>A++)for(;A<=i;A++)o.push(",");o.push(f,v(e[g],r,a,t,n)),f=","}if((i=e.length)>A)for(;A<=i;A++)o.push(f),f=",";return o.push("]"),o.join("");case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return""+(s[0]+s[4]+s[5])+e.length+p(e,n);case"Map":var k=[["M("],r,a,t,n,""];return e.forEach((function(e,r){this[0].push(this[5],v(r,this[1],this[2],this[3],this[4]),":",v(e,this[1],this[2],this[3],this[4])),this[5]=","}),k),k[0].push(")"),k[0].join("");case"Set":var w=[["T("],r,a,t,n,""];return e.forEach((function(e){this[0].push(this[5],v(e,this[1],this[2],this[3],this[4])),this[5]=","}),w),w[0].push(")"),w[0].join("");case"ArrayBuffer":case"DataView":return"A"+s[0]+(e=new Int8Array("D"===s[0]?e.buffer:e)).length+p(e,n);default:return console.warn("cyclepack:",e),y(e,r,a,t,n)}}var A=[0,1,2,3,4,5,6,7,8,9,null,void 0,NaN,!0,!1,1/0,-1/0].map((function(e,r){return[e,l([r])]}));function g(e,r,a){var t=a?'"':"";return[t,v(e,new Map(A),[17],r,a),t].join("")}var k=/[a-z]/,w=/["/{}[\]():,]/,E={b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"};function I(t,n){for(var s=[17],c={},u=s[0];u-- >0;)c[A[u][1]]=A[u][0];for(var o,f,h,b,p,y=[],v={v:y,t:"[",i:0},g=[v],I=y,S=[],m=t.length,U=0;U<m;U++){switch(h=!0,p=t[U]){case"P":f=new e(+t[++U]);break;case"E":switch(t[++U]+t[++U]){case"Ag":f=AggregateError;break;case"Ev":f=EvalError;break;case"Ra":f=RangeError;break;case"Re":f=ReferenceError;break;case"Sy":f=SyntaxError;break;case"Ty":f=TypeError;break;case"UR":f=URIError;break;default:f=r}o={v:f=new f(""),t:t[++U]};break;case"I":case"U":case"F":switch(t[++U]+t[++U]){case"Ar":f=Int8Array;break;case"8A":f=Uint8Array;break;case"8C":f=Uint8ClampedArray;break;case"6A":f=Int16Array;break;case"16":f=Uint16Array;break;case"2A":f=Int32Array;break;case"32":f=Uint32Array;break;case"t3":f=Float32Array;break;case"t6":f=Float64Array;break;default:throw p}for(p="";'"'!==t[++U];)p+=t[U];f=new f(+p);for(var B=0,R="";;)if(","===t[++U]||'"'===t[U]){if(f[B++]=+R,R="",'"'===t[U])break}else R+=t[U];break;case"B":switch(t[++U]+t[++U]){case"nt":f=BigInt64Array;break;case"in":f=BigUint64Array;break;default:throw p}for(p="";'"'!==t[++U];)p+=t[U];f=new f(+p);for(var D=0,F="";;)if(","===t[++U]||'"'===t[U]){if(f[D++]=BigInt(F),F="",'"'===t[U])break}else F+=t[U];break;case"A":for(f="",p=t[++U];'"'!==t[++U];)f+=t[U];f=new Int8Array(+f);for(var j=0,N="";;)if(","===t[++U]||'"'===t[U]){if(f[j++]=+N,N="",'"'===t[U])break}else N+=t[U];f=f.buffer,"D"===p&&(f=new DataView(f));break;case"L":case"D":case"N":case"-":case"Q":case"H":case"S":case"R":case"Z":S.push(p);continue;case'"':for(f=[];++U<m&&t[U]!==p;)f.push("\\"!==t[U]?t[U]:t[++U]in E?E[t[U]]:"u"===t[U]?i(a(t[++U]+t[++U]+t[++U]+t[++U],16)):t[U]||"");f=f.join("");break;case"{":o={v:f={},t:p};break;case"[":o={v:f=[],t:p,i:0};break;case"T":o={v:f=new Set,t:p},U++;break;case"M":o={v:f=new Map,t:p},U++;break;case"]":case"}":case")":g.pop(),f=v.v,v=g[g.length-1];continue;case",":I=y,"["===v.t&&(v.v.length=++v.i);continue;case":":I=f,"["===v.t&&(v.v.length=v.i--);continue;default:for(;++U<m&&!w.test(t[U])?p+=t[U]:(U--,0););f=k.test(p[0])?(h=!1,c[p]):+p}if(S.length){for(p=f,b=[];S.length;)b.push(f=d(S.pop(),f,n));for(;b.length;)c[l(s)]=b.pop();h&&(c[l(s)]=p,h=!1)}h&&(c[l(s)]=f),"["===v.t?I===y?v.v[v.i]=f:(v.v[I]=f,I=y):"T"===v.t?v.v.add(f):I!==y&&("{"===v.t?v.v[I]=f:v.v.set(I,f),I=y),o&&(g.push(v=o),o=null)}return y[0]}function d(e,r,a){switch(e){case"-":return-+r;case"Q":return""+r;case"L":return BigInt(r);case"H":return Symbol(r);case"D":return new t(+r);case"N":return new n(r);case"S":return new s(r);case"R":return new c(r.slice(0,e=r.lastIndexOf(",")),r.slice(e+1));default:return a&&a(r)||"%"+r+"%"}}const S={pack:g,unpack:I};export{S as default,g as pack,I as unpack};
