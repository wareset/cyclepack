/* eslint-disable */
import{stringEncode as e,keyToNumMayBe as a}from"../utils/index.mjs";function r(r,n){var t,s,i,c,l,o,u,b={},f={},$=[],v=[],y=[],k=[];function p(e){return(s||void 0!==e)&&(t||null!==e)}function N(e){return"null"!==e&&"void 0"!==e}function d(e,r){var n=!1;for(var t in e)if(p(e[t])){var s=h(e[t]);N(s)&&(n=!0,k.push(`v${r}[${h(a(t))}]=${s}`))}return n}function h(r){if(p(r))if(y.indexOf(r)>-1)r="void 0";else{var n=r!=r?b:0===r&&1/r<0?f:r,t=$.indexOf(n);if(t<0){t=$.length,$[t]=n;var s=typeof r;switch(s){case"undefined":n="void 0";break;case"boolean":n=r?"!0":"!1";break;case"number":n=n===f?"-0":`${r}`;break;case"bigint":n=`BigInt(${r})`;break;case"string":n=`"${e(r)}"`;break;case"symbol":n=`Symbol.for(${h(r.toString().slice(7,-1))})`;break;case"function":n=null!=(n=c&&c(r))?h(n):null===n?NaN:`${r}`;break;default:switch(s=Object.prototype.toString.call(r).slice(8,-1)){case"Null":n="null";break;case"Boolean":n=`new Boolean(${+r})`;break;case"Number":n=`new Number(${h(+r)})`;break;case"String":n=`new String(${h(r.toString())})`;break;case"RegExp":n=`${r}`;break;case"Date":n=`new Date(${n=isNaN(r.getDate())?"NaN":`"${r.toISOString()}"`})`;break;case"Error":null!=(n=o&&o(r))?n=h(n):null===n?n=NaN:(d(r,t),n=r.constructor.name||r.name,n=`(function(_){\n_=${h(r.message)}\ntry{\n_=new ${n}(_)\n}catch{\n_=new Error(_)\n}\n_.stack=${h(r.stack)}\nreturn _\n})()`);break;case"Array":for(var u in n=!1,r)if(p(r[u])){var g=h(r[u]);if(N(g)){n=!0;var w=a(u);w===u&&(w=h(w)),k.push(`v${t}[${w}]=${g}`)}}n=n||i?`Array(${r.length})`:NaN;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":n=`new ${s}(${h(r.buffer)})`;break;case"ArrayBuffer":n=`(new Uint8Array([${new Uint8Array(r)}])).buffer`;break;case"Map":r.forEach((function(e,a){(p(a)||p(e))&&(a=h(a),e=h(e),(N(a)||N(e))&&(this.b=1,this.a.push(a,e),k.push(`v${this.i}.set(${a},${e})`)))}),n={b:0,i:t}),n=n.b||i?"new Map()":NaN;break;case"Set":r.forEach((function(e,a){p(e)&&N(e=h(e))&&(this.b=1,k.push(`v${this.i}.add(${e})`))}),n={b:0,i:t}),n=n.b||i?"new Set()":NaN;break;default:n=(s=Object.getPrototypeOf(r))&&s!==Object.prototype&&null!=(n=l&&l(r))?h(n):null===n?NaN:(n=d(r,t))||i?s?"{}":"Object.create(null)":NaN}}n==n?(r="v"+t,v.push(`${r}=${n}`)):(r="void 0",y.push($.pop()))}else r="v"+t}else r=null===r?"null":"void 0";return r}switch(n&&(t=n.allowNulls,s=n.allowUndefineds,i=n.allowEmptyObjects,c=n.functions,l=n.classes,o=n.errors),h(r),console.log(v),v.length){case 0:u="void 0";break;case 1:u=v[0].slice(3);break;default:u=`(function() {\nvar\n${v.join(",\n")}\n${k.join("\n")}\nreturn v0\n})()`}return u}export{r as default};
