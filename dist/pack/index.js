/* eslint-disable */
Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../utils/index.js");exports.default=function(a,r){var t,n,s,c,i,$,l={},o={},u=[],f=[],b=[],g=h;function p(e){return(n||void 0!==e)&&(t||null!==e)}function y(e){return-3!==e}function N(a){var r=[];for(var t in a)if(p(a[t])){var n=h(a[t]);y(n)&&r.push(h(e.parseKey(t)),n)}return r.length?`,[${r}]`:""}function h(a){var r;if(null===a)r=-1;else if(void 0===a)r=-2;else if(b.indexOf(a)>-1)r=-3;else{var t=a!=a?l:0===a&&1/a<0?o:a;if((r=u.indexOf(t))<0){r=u.length,u[r]=t;var n=typeof a;switch(n){case"boolean":t=`${a}`;break;case"number":t=isFinite(a)?t===o?"-0":`${a}`:`"n${a}"`;break;case"bigint":t=`"i${a}"`;break;case"string":t=`"t${e.stringEncode(a)}"`;break;case"symbol":t=`"s${h(a.toString().slice(7,-1))}"`;break;case"function":t=null!=(t=c&&c(a))?`[${g("F")},${h(t)}]`:null===t?NaN:`"f${e.stringEncode(a.toString())}"`;break;default:switch(n=Object.prototype.toString.call(a).slice(8,-1)){case"Boolean":t=`[${g("B")},${h(+a)}]`;break;case"Number":t=`[${g("N")},${h(+a)}]`;break;case"String":t=`[${g("T")},${h(a.toString())}]`;break;case"RegExp":t=a.flags?`,${h(a.flags)}`:"",t=`[${g("R")},${h(a.source)}${t}]`;break;case"Date":t=isNaN(a.getDate())?"":`,${h(a.toISOString())}`,t=`[${g("D")}${t}]`;break;case"Error":t=null!=(t=$&&$(a))?`[${g("E")},${h(t)}]`:null===t?NaN:`[${g("E")},${h(a.constructor.name||a.name)},${h(a.message)},${h(a.stack)}${N(a)}]`;break;case"Array":var k=[],A=[];for(var d in t=0,a)if(p(a[d])){var v=h(a[d]);y(v)&&(+d==t++?k.push(v):(t=NaN,A.push(h(e.parseKey(d)),v)))}t=a.length,t=A.length?`[${g("A")},${h(t)},[${k}],[${A}]]`:k.length?`[${g("A")},${h(t)},[${k}]]`:s?`[${g("A")},${h(t)}]`:NaN;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":t=`[${g("TA")},${h(n)},${h(a.buffer)}]`;break;case"ArrayBuffer":t=`[${g("AB")},${h(e.arrayBufferToBase64(a))}]`;break;case"Map":a.forEach((function(e,a){(p(a)||p(e))&&(a=h(a),e=h(e),(y(a)||y(e))&&this.push(a,e))}),t=[]),t=(t=t.length?`,[${t}]`:"")||s?`[${g("M")}${t}]`:NaN;break;case"Set":a.forEach((function(e){p(e)&&y(e=h(e))&&this.push(e)}),t=[]),t=(t=t.length?`,[${t}]`:"")||s?`[${g("S")}${t}]`:NaN;break;default:(n=Object.getPrototypeOf(a))&&n!==Object.prototype?null!=(t=i&&i(a))?t=`[${g("C")},${h(t)}]`:null===t?t=NaN:(n=n.constructor||Object,t=(t=N(a))||s?`[${g("OC")},${h(n.name)}${t}]`:NaN):t=(t=N(a))||s?`[${g("O")},${h(n?1:0)}${t}]`:NaN}}t==t?f[r]=t:(b.push(u.pop()),r=-3)}}return r}return r&&(t=r.allowNulls,n=r.allowUndefineds,s=r.allowEmptyObjects,c=r.functions,i=r.classes,$=r.errors),a=-1===h(a)?null:void 0,f.length?"["+f.join(",")+"]":a};
