/* eslint-disable */
var e,r=String;function a(e){return e}function t(){return!0}function n(e){var a=+e;return e!==r(a)?e:a}function c(e){return Object.prototype.toString.call(e).slice(8,-1)}function s(){if(!e){var r="object";e=typeof globalThis===r?globalThis:typeof window===r?window:typeof global===r?global:typeof self===r?self:Function("return this")()||{}}return e}function o(e){return("function"!=typeof e.constructor||e.constructor.prototype!==e)&&"object"==typeof e}function u(e,r){if(e===r)throw console.error(e),"Cyclepack: circular"}function i(e,r,a,t){if(e){var n=typeof e;if("function"===n&&(null==r||null==r(e)))return!1;if("object"===n){if(e instanceof Error&&(null===t||t&&null===t(e)))return!1;if((n=Object.getPrototypeOf(e))&&n!==Object.prototype&&!o(n)&&n!==s()[c(e)].prototype&&(null===a||a&&null===a(e)))return!1}}return!0}var l="function"==typeof btoa?btoa:function(e){return Buffer.from(e).toString("base64")};var f="function"==typeof atob?atob:function(e){return Buffer.from(e,"base64").toString()};var b=/[·"\\<\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function p(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\b":return"\\b";case"\t":return"\\t";case"\n":return"\\n";case"\v":return"\\v";case"\f":return"\\f";case"\r":return"\\r";default:return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}}function y(e){return e.replace(b,p)}var h,k=/\\u([\da-f]{4})|\\./gi;function g(e,r){switch(e[1]){case"b":return"\b";case"t":return"\t";case"n":return"\n";case"v":return"\v";case"f":return"\f";case"r":return"\r";case"u":return String.fromCharCode(parseInt(r,16));default:return e[1]}}function v(e){return e.slice(1)}function N(e){return e.slice(1).split("_")}
/*@__NO_SIDE_EFFECTS__*/function d(e,a){var t;if(e&&"string"==typeof e&&(e=e.split("·")).length){a||(a={});var n=a.prepareFunctions,c=a.prepareClasses,o=a.prepareErrors,u=s(),i=Object.create,l=i(null);function b(e,r){if(r){r=r.split(",");for(var a,t=0;t<r.length;++t)1===(a=r[t].split(":")).length?e[t]=p(a[0]):e[p(a[0])]=p(a[1])}}function p(a){if(!(a in l)){var t,d=e[+a];switch(d[0]){case"u":t=void 0;break;case"b":t=!!+d[1];break;default:t=+d;break;case"i":t=BigInt(v(d));break;case"t":t=function(e){return e.replace(k,g)}(v(d));break;case"k":t=Symbol.for(p(v(d)));break;case"f":t=p(v(d)),n&&(t=n(t));break;case"n":t=null;break;case"B":t=new Boolean(+d[1]);break;case"N":t=new Number(p(v(d)));break;case"T":t=new r(p(v(d)));break;case"R":d=N(d),t=new RegExp(p(d[0]),d[1]?p(d[1]):void 0);break;case"D":d=v(d),t=new Date(d?p(d):NaN);break;case"E":if((d=N(d)).length<2)t=p(d[0]),o&&(t=o(t));else{d[0]=p(d[0]),d[1]=p(d[1]),d[5]=d[2]?{cause:1}:void 0;try{t=u[d[0]],t=d[4]?new t([],d[1],d[5]):new t(d[1],d[5])}catch(O){(t=new Error(d[1],d[5]))._CyclepackError=d[0]}l[a]=t,d[2]&&(t.cause=p(d[2])),d[3]&&(t.stack=p(d[3])),d[4]&&(t.errors=p(d[4]))}break;case"A":d=N(d),l[a]=t=Array(+d[0]),b(t,d[1]);break;case"S":if(l[a]=t=new Set,d=v(d))for(var w=d.split(","),$=0,A=w.length;$<A;)t.add(p(w[$++]));break;case"M":if(l[a]=t=new Map,d=v(d))for(var C=d.split(","),m=0,j=C.length;m<j;)t.set(p(C[m++]),p(C[m++]));break;case"U":d=N(d),t=new(u[p(d[0])])(p(d[1]));break;case"Y":t=function(e){for(var r=(e=f(e)).length,a=new ArrayBuffer(r),t=new DataView(a),n=0;n<r;++n)t.setUint8(n,e.charCodeAt(n));return a}(v(d));break;case"O":d=N(d),l[a]=t=+d[0]?{}:i(null),b(t,d[1]);break;case"P":d=N(d),l[a]=t=i(d[0]?p(d[0]):null),b(t,d[1]);break;case"G":d=N(d),l[a]=t=function(e){if(h||(s().CyclepackClass=h=Object.create(null)),!(e in h)){var r;try{r=Function(`return CyclepackClass["${y(e)}"]=function(){}`)()}catch(a){r=function CyclepackClass(){}}Object.defineProperty(r.prototype,"_CyclepackClass",{value:e}),h[e]=r}return new h[e]}(p(d[0])),b(t,d[1]);break;case"C":t=p(v(d)),c&&(t=c(t))}l[a]=t}return l[a]}l[-1]=void 0,t=p("0")}return t}function w(e){return e>-1}
/*@__NO_SIDE_EFFECTS__*/function $(e,f){f||(f={});var b={},p={},h=[],k=[],g=(f.filterByList||[]).slice(),v=f.filterByFunction||t,N=0,d=!f.removeArrayHoles,$=!f.removeEmptyObjects,A=f.prepareFunctions,C=f.prepareClasses,m=f.prepareErrors;function j(e){for(var r,a,t=[],n=Object.getOwnPropertySymbols(e),c=0;c<n.length;++c){try{a=e[r=n[c]]}catch(s){continue}w(a=B(a))&&t.push(B(r,1)+":"+a)}return t.join(",")}function O(e,r){var a,t,c=[],s=0;for(a in e){try{t=e[a]}catch(o){continue}w(t=B(t))&&(r&&(s=a>>>0),c.push((a=n(a))===s?t:B(a,1)+":"+t),++s)}return(t=j(e))&&c.push(t),c.length?"_"+c.join(","):""}var S=s(),E=C?function(e,r,a){var t=e;return r!==S[a].prototype&&(t=null===(t=C(e))?NaN:void 0===t?e:"C"+B(t,1,1)),t}:null===C?function(e,r,a){return r!==S[a].prototype?NaN:e}:a;function B(e,a,t){var s;if(t&&++N,a||(a=N),a||!g.includes(e)&&(v(e)||(g.push(e),0))){var f=e!=e?b:0===e&&1/e<0?p:e;if((s=h.indexOf(f))<0){var S=typeof e;switch(s=h.length,h[s]=f,S){case"undefined":f="u";break;case"boolean":f="b"+ +e;break;case"number":f=isFinite(e)?f===p?"-0":r(e):e<0?r(e):"+"+e;break;case"bigint":f="i"+e;break;case"string":f="t"+y(e);break;case"symbol":f="k"+B(n(r(e).slice(7,-1)),1);break;case"function":null==(f=A&&A(e))?f=NaN:(u(f,e),f="f"+B(f,1,1));break;default:if(null===e)f="n";else switch(S=Object.getPrototypeOf(e),f=c(e)){case"Boolean":(f=E(e,S,f))===e&&(f="B"+ +e);break;case"Number":(f=E(e,S,f))===e&&(f="N"+B(+e,1));break;case"String":(f=E(e,S,f))===e&&(f="T"+B(n(r(e)),1));break;case"RegExp":(f=E(e,S,f))===e&&(f="R"+B(r(e.source),1)+(e.flags?"_"+B(r(e.flags),1):""));break;case"Date":(f=E(e,S,f))===e&&(f=isNaN(e.getDate())?"D":"D"+B(e.toISOString(),1));break;case"Error":null===(f=m&&m(e))?f=NaN:void 0===f?f="E"+B(r(e.constructor.name),1)+"_"+B(r(e.message),1)+"_"+("cause"in e?B(e.cause,1):"")+"_"+(e.stack?B(e.stack,1):"")+(e.errors?"_"+B(e.errors,1):""):(u(f,e),f="E"+B(f,1,1));break;case"Array":(f=E(e,S,f))===e&&(f=(f=O(e,!(N||d)))||a||$?"A"+(N||d?e.length:0)+f:NaN);break;case"Set":(f=E(e,S,f))===e&&(e.forEach(function(e){w(e=B(e))&&this.push(e)},f=[]),f=(f=f.join(","))||a||$?"S"+f:NaN);break;case"Map":(f=E(e,S,f))===e&&(e.forEach(function(e,r){if(i(r,A,C,m)){var a=h.length,t=k.length;w(e=B(e))&&(w(r=B(r,1))?this.push(r,e):(h.length=a,k.length=t))}},f=[]),f=(f=f.join(","))||a||$?"M"+f:NaN);break;case"URL":case"URLSearchParams":(f=E(e,S,S=f))===e&&(f="U"+B(S,1)+"_"+B(r(e),1));break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"BigInt64Array":case"BigUint64Array":case"Float16Array":case"Float32Array":case"Float64Array":(f=E(e,S,S=f))===e&&(f="U"+B(S,1)+"_"+B(e.buffer,1));break;case"ArrayBuffer":(f=E(e,S,f))===e&&(f="Y"+function(e){for(var r=new DataView(e),a=r.byteLength,t=Array(a),n=String.fromCharCode,c=0;c<a;++c)t[c]=n(r.getUint8(c));return l(t.join(""))}(e));break;default:S&&S!==Object.prototype?o(S)?(f=((f=B(S))<0?"":f)+function(e){for(var r,a,t=[],c=0,s=Object.keys(e),o=0;o<s.length;++o){try{a=e[r=s[o]]}catch(u){continue}w(a=B(a))&&(t.push((r=n(r))===c?a:B(r,1)+":"+a),++c)}return(a=j(e))&&t.push(a),t.length?"_"+t.join(","):""}(e),f=f||a||$?"P"+f:NaN):null===(f=C&&C(e))?f=NaN:void 0===f?f=(f=O(e))||a||$?"G"+B(r(S.constructor.name),1)+f:NaN:(u(f,e),f="C"+B(f,1,1)):f=(f=O(e))||a||$?"O"+(S?1:0)+f:NaN}}f==f?k[s]=f:(g.push(h.pop()),s=-1)}}else s=-1;return t&&--N,s}return B(e),"u"===(e=k.join("·"))?"":e}var A='var G="object";G=typeof globalThis===G?globalThis:typeof global===G?global:typeof window===G?window:typeof self===G?self:Function("return this")()||{}';function C(e){return"void 0"!==e}
/*@__NO_SIDE_EFFECTS__*/function m(e,l){l||(l={});var f,b={},p={},h=[],k=[],g=[],v=[],N=(l.filterByList||[]).slice(),d=l.filterByFunction||t,w=0,$=!l.removeArrayHoles,m=!l.removeEmptyObjects,j=l.prepareFunctions,O=l.prepareClasses,S=l.prepareErrors,E=0;function B(e,r){for(var a,t,n=!1,c=Object.getOwnPropertySymbols(e),s=0;s<c.length;s++){try{t=e[a=c[s]]}catch(o){continue}C(t=I(t))&&(n=!0,g.push(`${r}[${I(a,1)}]=${t}`))}return n}function U(e,r,a){var t,c,s=!1,o=0;for(t in e){try{c=e[t]}catch(u){continue}C(c=I(c))&&(s=!0,g.push(`${r}[${t!==(t=n(t))?a&&t===t>>>0?o++:t:I(t,1)}]=${c}`))}return B(e,r)||s}var _,F=s(),D=O?function(e,r,a){var t=e;return r!==F[a].prototype&&(null===(t=O(e))?t=NaN:void 0===t?t=e:"string"!=typeof t&&(t=I(t,1,1))),t}:null===O?function(e,r,a){return r!==F[a].prototype?NaN:e}:a;function I(e,a,t){if(t&&++w,a||(a=w),a||!N.includes(e)&&(d(e)||(N.push(e),0))){var s=e!=e?b:0===e&&1/e<0?p:e,l=h.indexOf(s);if(l<0){l=h.length,h[l]=s,l="v"+l;var _=typeof e;switch(_){case"undefined":s="void 0";break;case"boolean":s=e?"!0":"!1";break;case"number":s=s===p?"-0":r(e);break;case"bigint":s=`BigInt(${e})`;break;case"string":s=`"${y(e)}"`;break;case"symbol":s=`Symbol.for(${s=I(n(r(e).slice(7,-1)),1)})`;break;case"function":null==(s=j&&j(e))?s=NaN:"string"!=typeof s&&(u(s,e),s=I(s,1,1));break;default:if(null===e)s="null";else switch(_=Object.getPrototypeOf(e),s=c(e)){case"Boolean":(s=D(e,_,s))===e&&(s=`new Boolean(${+e})`);break;case"Number":(s=D(e,_,s))===e&&(s=`new Number(${I(+e,1)})`);break;case"String":(s=D(e,_,s))===e&&(s=`new String(${I(n(r(e)),1)})`);break;case"RegExp":(s=D(e,_,s))===e&&(s=r(e));break;case"Date":(s=D(e,_,s))===e&&(s=`new Date(${s=isNaN(e.getDate())?"NaN":I(e.toISOString(),1)})`);break;case"Error":null===(s=S&&S(e))?s=NaN:void 0===s?(E||(E=v.push(A)),s=`(function(f,m,s,e,c){\nvar _,F=G[f]\ntry{_= e?(new F([],m,c)):(new F(m,c))}catch{_=new Error(m,c);_._CyclepackError=f}\ne&&(_.errors=e);s&&(_.stack=s);return _\n})(${s=[I(r(e.constructor.name),1),I(r(e.message),1),e.stack?I(e.stack,1):0,e.errors?I(e.errors,1):0,"cause"in e?`{cause:${I(e.cause,1)}}`:"{}"]})`):"string"!=typeof s&&(u(s,e),s=I(s,1,1));break;case"Array":(s=D(e,_,s))===e&&(s=(s=U(e,l,!(w||$)))||a||m?w||$?`Array(${e.length})`:"[]":NaN);break;case"Set":(s=D(e,_,s))===e&&(e.forEach(function(e){C(e=I(e))&&(this.b=1,g.push(`${this.i}.add(${e})`))},s={b:0,i:l}),s=s.b||a||m?"new Set()":NaN);break;case"Map":(s=D(e,_,s))===e&&(e.forEach(function(e,r){if(i(r,j,O,S)){var a=h.length,t=g.length,n=k.length;C(e=I(e))&&(C(r=I(r,1))?(this.b=1,g.push(`${this.i}.set(${r},${e})`)):(h.length=a,g.length=t,k.length=n))}},s={b:0,i:l}),s=s.b||a||m?"new Map()":NaN);break;case"URL":case"URLSearchParams":(s=D(e,_,_=s))===e&&(s=`new ${_}(${I(r(e),1)})`);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"BigInt64Array":case"BigUint64Array":case"Float16Array":case"Float32Array":case"Float64Array":(s=D(e,_,_=s))===e&&(s=`new ${_}(${I(e.buffer,1)})`);break;case"ArrayBuffer":(s=D(e,_,s))===e&&(s=`(new Uint8Array([${new Uint8Array(e)}])).buffer`);break;default:_&&_!==Object.prototype?o(_)?(C(_=I(_))||(_=null),s=function(e,r){for(var a,t,c=!1,s=0,o=Object.keys(e);s<o.length;++s){try{t=e[a=o[s]]}catch(u){continue}C(t=I(t))&&(c=!0,g.push(`${r}[${a!==(a=n(a))?a:I(a,1)}]=${t}`))}return B(e,r)||c}(e,l),s=s||_||a||m?`Object.create(${_})`:NaN):null===(s=O&&O(e))?s=NaN:void 0===s?(_=r(_.constructor.name),s=(s=U(e,l))||a||m?function(e,r){if(E||(E=v.push(A)),f||(f={},v.push('var CyclepackClass=G.CyclepackClass||(G.CyclepackClass=Object.create(null))\nfunction c(f,v){Object.defineProperty(f.prototype,"_CyclepackClass",{value:v})}\nfunction n(v){return new CyclepackClass[v]()}')),!(e in f)){var a=f[e]=`"${y(e)}"`,t=`CyclepackClass[${a}]`;v.push(`${t}||c(${t}=function(){},${a})`)}return`n(${r})`}(_,I(_,1)):NaN):"string"!=typeof s&&(u(s,e),s=I(s,1,1)):s=(s=U(e,l))||a||m?_?"{}":"Object.create(null)":NaN}}s==s?(e=l,k.push(`${e}=${s}`)):(e="void 0",N.push(h.pop()))}else e="v"+l}else e="void 0";return t&&--w,e}switch(I(e),v.length+k.length+g.length){case 0:_="void 0";break;case 1:_=k[0].slice(3);break;default:v.push("var"),_=`(function() {\n${v.join("\n")}\n${k.join(",\n")}\n${g.join("\n")}\nreturn v0\n})()`}return _}const j={encode:$,decode:d,uneval:m};export{d as decode,j as default,$ as encode,m as uneval};
