/* eslint-disable */
Object.defineProperty(exports,"__esModule",{value:!0});var e,r=String;function t(e){return e}function a(){return!0}function n(e){var t=+e;return e!==r(t)?e:t}function c(e){return Object.prototype.toString.call(e).slice(8,-1)}function s(){if(!e){var r="object";e=typeof globalThis===r?globalThis:typeof window===r?window:typeof global===r?global:typeof self===r?self:Function("return this")()||{}}return e}function o(e){return("function"!=typeof e.constructor||e.constructor.prototype!==e)&&"object"==typeof e}function u(e,r){if(e===r)throw console.error(e),"Cyclepack: circular"}function i(e,r,t,a){if(e){var n=typeof e;if("function"===n&&(null==r||null==r(e)))return!1;if("object"===n){if(e instanceof Error&&(null===a||a&&null===a(e)))return!1;if((n=Object.getPrototypeOf(e))&&n!==Object.prototype&&!o(n)&&n!==s()[c(e)].prototype&&(null===t||t&&null===t(e)))return!1}}return!0}var l="function"==typeof btoa?btoa:function(e){return Buffer.from(e).toString("base64")};var f="function"==typeof atob?atob:function(e){return Buffer.from(e,"base64").toString()};var b=/[·"\\<\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function p(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\b":return"\\b";case"\t":return"\\t";case"\n":return"\\n";case"\v":return"\\v";case"\f":return"\\f";case"\r":return"\\r";default:return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}}function y(e){return e.replace(b,p)}var h,k=/\\u([\da-f]{4})|\\./gi;function g(e,r){switch(e[1]){case"b":return"\b";case"t":return"\t";case"n":return"\n";case"v":return"\v";case"f":return"\f";case"r":return"\r";case"u":return String.fromCharCode(parseInt(r,16));default:return e[1]}}function v(e){return e.slice(1)}function d(e){return e.slice(1).split("_")}
/*@__NO_SIDE_EFFECTS__*/function N(e,t){var a;if(e&&"string"==typeof e&&(e=e.split("·")).length){t||(t={});var n=t.prepareFunctions,c=t.prepareClasses,o=t.prepareErrors,u=s(),i=Object.create,l=i(null);function b(e,r){if(r){r=r.split(",");for(var t,a=0;a<r.length;++a)1===(t=r[a].split(":")).length?e[a]=p(t[0]):e[p(t[0])]=p(t[1])}}function p(t){if(!(t in l)){var a,N=e[+t];switch(N[0]){case"u":a=void 0;break;case"b":a=!!+N[1];break;default:a=+N;break;case"i":a=BigInt(v(N));break;case"t":a=function(e){return e.replace(k,g)}(v(N));break;case"k":a=Symbol.for(p(v(N)));break;case"f":a=p(v(N)),n&&(a=n(a));break;case"n":a=null;break;case"B":a=new Boolean(+N[1]);break;case"N":a=new Number(p(v(N)));break;case"T":a=new r(p(v(N)));break;case"R":N=d(N),a=new RegExp(p(N[0]),N[1]?p(N[1]):void 0);break;case"D":N=v(N),a=new Date(N?p(N):NaN);break;case"E":if((N=d(N)).length<2)a=p(N[0]),o&&(a=o(a));else{N[0]=p(N[0]),N[1]=p(N[1]),N[5]=N[2]?{cause:1}:void 0;try{a=u[N[0]],a=N[4]?new a([],N[1],N[5]):new a(N[1],N[5])}catch(O){(a=new Error(N[1],N[5]))._CyclepackError=N[0]}l[t]=a,N[2]&&(a.cause=p(N[2])),N[3]&&(a.stack=p(N[3])),N[4]&&(a.errors=p(N[4]))}break;case"A":N=d(N),l[t]=a=Array(+N[0]),b(a,N[1]);break;case"S":if(l[t]=a=new Set,N=v(N))for(var w=N.split(","),$=0,A=w.length;$<A;)a.add(p(w[$++]));break;case"M":if(l[t]=a=new Map,N=v(N))for(var C=N.split(","),m=0,j=C.length;m<j;)a.set(p(C[m++]),p(C[m++]));break;case"U":N=d(N),a=new(u[p(N[0])])(p(N[1]));break;case"Y":a=function(e){for(var r=(e=f(e)).length,t=new ArrayBuffer(r),a=new DataView(t),n=0;n<r;++n)a.setUint8(n,e.charCodeAt(n));return t}(v(N));break;case"O":N=d(N),l[t]=a=+N[0]?{}:i(null),b(a,N[1]);break;case"P":N=d(N),l[t]=a=i(N[0]?p(N[0]):null),b(a,N[1]);break;case"G":N=d(N),l[t]=a=function(e){if(h||(s().CyclepackClass=h=Object.create(null)),!(e in h)){var r;try{r=Function(`return CyclepackClass["${y(e)}"]=function(){}`)()}catch(t){r=function CyclepackClass(){}}Object.defineProperty(r.prototype,"_CyclepackClass",{value:e}),h[e]=r}return new h[e]}(p(N[0])),b(a,N[1]);break;case"C":a=p(v(N)),c&&(a=c(a))}l[t]=a}return l[t]}l[-1]=void 0,a=p("0")}return a}function w(e){return e>-1}
/*@__NO_SIDE_EFFECTS__*/function $(e,f){f||(f={});var b={},p={},h=[],k=[],g=(f.filterByList||[]).slice(),v=f.filterByFunction||a,d=0,N=!f.removeArrayHoles,$=!f.removeEmptyObjects,A=f.prepareFunctions,C=f.prepareClasses,m=f.prepareErrors;function j(e){for(var r,t,a=[],n=Object.getOwnPropertySymbols(e),c=0;c<n.length;++c){try{t=e[r=n[c]]}catch(s){continue}w(t=E(t))&&a.push(E(r,1)+":"+t)}return a.join(",")}function O(e,r){var t,a,c=[],s=0;for(t in e){try{a=e[t]}catch(o){continue}w(a=E(a))&&(r&&(s=t>>>0),c.push((t=n(t))===s?a:E(t,1)+":"+a),++s)}return(a=j(e))&&c.push(a),c.length?"_"+c.join(","):""}var S=s(),_=C?function(e,r,t){var a=e;return r!==S[t].prototype&&(a=null===(a=C(e))?NaN:void 0===a?e:"C"+E(a,1,1)),a}:null===C?function(e,r,t){return r!==S[t].prototype?NaN:e}:t;function E(e,t,a){var s;if(a&&++d,t||(t=d),t||!g.includes(e)&&(v(e)||(g.push(e),0))){var f=e!=e?b:0===e&&1/e<0?p:e;if((s=h.indexOf(f))<0){var S=typeof e;switch(s=h.length,h[s]=f,S){case"undefined":f="u";break;case"boolean":f="b"+ +e;break;case"number":f=isFinite(e)?f===p?"-0":r(e):e<0?r(e):"+"+e;break;case"bigint":f="i"+e;break;case"string":f="t"+y(e);break;case"symbol":f="k"+E(n(r(e).slice(7,-1)),1);break;case"function":null==(f=A&&A(e))?f=NaN:(u(f,e),f="f"+E(f,1,1));break;default:if(null===e)f="n";else switch(S=Object.getPrototypeOf(e),f=c(e)){case"Boolean":(f=_(e,S,f))===e&&(f="B"+ +e);break;case"Number":(f=_(e,S,f))===e&&(f="N"+E(+e,1));break;case"String":(f=_(e,S,f))===e&&(f="T"+E(n(r(e)),1));break;case"RegExp":(f=_(e,S,f))===e&&(f="R"+E(r(e.source),1)+(e.flags?"_"+E(r(e.flags),1):""));break;case"Date":(f=_(e,S,f))===e&&(f=isNaN(e.getDate())?"D":"D"+E(e.toISOString(),1));break;case"Error":null===(f=m&&m(e))?f=NaN:void 0===f?f="E"+E(r(e.constructor.name),1)+"_"+E(r(e.message),1)+"_"+("cause"in e?E(e.cause,1):"")+"_"+(e.stack?E(e.stack,1):"")+(e.errors?"_"+E(e.errors,1):""):(u(f,e),f="E"+E(f,1,1));break;case"Array":(f=_(e,S,f))===e&&(f=(f=O(e,!(d||N)))||t||$?"A"+(d||N?e.length:0)+f:NaN);break;case"Set":(f=_(e,S,f))===e&&(e.forEach(function(e){w(e=E(e))&&this.push(e)},f=[]),f=(f=f.join(","))||t||$?"S"+f:NaN);break;case"Map":(f=_(e,S,f))===e&&(e.forEach(function(e,r){if(i(r,A,C,m)){var t=h.length,a=k.length;w(e=E(e))&&(w(r=E(r,1))?this.push(r,e):(h.length=t,k.length=a))}},f=[]),f=(f=f.join(","))||t||$?"M"+f:NaN);break;case"URL":case"URLSearchParams":(f=_(e,S,S=f))===e&&(f="U"+E(S,1)+"_"+E(r(e),1));break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"BigInt64Array":case"BigUint64Array":case"Float16Array":case"Float32Array":case"Float64Array":(f=_(e,S,S=f))===e&&(f="U"+E(S,1)+"_"+E(e.buffer,1));break;case"ArrayBuffer":(f=_(e,S,f))===e&&(f="Y"+function(e){for(var r=new DataView(e),t=r.byteLength,a=Array(t),n=String.fromCharCode,c=0;c<t;++c)a[c]=n(r.getUint8(c));return l(a.join(""))}(e));break;default:S&&S!==Object.prototype?o(S)?(f=((f=E(S))<0?"":f)+function(e){for(var r,t,a=[],c=0,s=Object.keys(e),o=0;o<s.length;++o){try{t=e[r=s[o]]}catch(u){continue}w(t=E(t))&&(a.push((r=n(r))===c?t:E(r,1)+":"+t),++c)}return(t=j(e))&&a.push(t),a.length?"_"+a.join(","):""}(e),f=f||t||$?"P"+f:NaN):null===(f=C&&C(e))?f=NaN:void 0===f?f=(f=O(e))||t||$?"G"+E(r(S.constructor.name),1)+f:NaN:(u(f,e),f="C"+E(f,1,1)):f=(f=O(e))||t||$?"O"+(S?1:0)+f:NaN}}f==f?k[s]=f:(g.push(h.pop()),s=-1)}}else s=-1;return a&&--d,s}return E(e),"u"===(e=k.join("·"))?"":e}var A='var G="object";G=typeof globalThis===G?globalThis:typeof global===G?global:typeof window===G?window:typeof self===G?self:Function("return this")()||{}';function C(e){return"void 0"!==e}
/*@__NO_SIDE_EFFECTS__*/function m(e,l){l||(l={});var f,b={},p={},h=[],k=[],g=[],v=[],d=(l.filterByList||[]).slice(),N=l.filterByFunction||a,w=0,$=!l.removeArrayHoles,m=!l.removeEmptyObjects,j=l.prepareFunctions,O=l.prepareClasses,S=l.prepareErrors,_=0;function E(e,r){for(var t,a,n=!1,c=Object.getOwnPropertySymbols(e),s=0;s<c.length;s++){try{a=e[t=c[s]]}catch(o){continue}C(a=I(a))&&(n=!0,g.push(`${r}[${I(t,1)}]=${a}`))}return n}function B(e,r,t){var a,c,s=!1,o=0;for(a in e){try{c=e[a]}catch(u){continue}C(c=I(c))&&(s=!0,g.push(`${r}[${a!==(a=n(a))?t&&a===a>>>0?o++:a:I(a,1)}]=${c}`))}return E(e,r)||s}var U,F=s(),D=O?function(e,r,t){var a=e;return r!==F[t].prototype&&(null===(a=O(e))?a=NaN:void 0===a?a=e:"string"!=typeof a&&(a=I(a,1,1))),a}:null===O?function(e,r,t){return r!==F[t].prototype?NaN:e}:t;function I(e,t,a){if(a&&++w,t||(t=w),t||!d.includes(e)&&(N(e)||(d.push(e),0))){var s=e!=e?b:0===e&&1/e<0?p:e,l=h.indexOf(s);if(l<0){l=h.length,h[l]=s,l="v"+l;var U=typeof e;switch(U){case"undefined":s="void 0";break;case"boolean":s=e?"!0":"!1";break;case"number":s=s===p?"-0":r(e);break;case"bigint":s=`BigInt(${e})`;break;case"string":s=`"${y(e)}"`;break;case"symbol":s=`Symbol.for(${s=I(n(r(e).slice(7,-1)),1)})`;break;case"function":null==(s=j&&j(e))?s=NaN:"string"!=typeof s&&(u(s,e),s=I(s,1,1));break;default:if(null===e)s="null";else switch(U=Object.getPrototypeOf(e),s=c(e)){case"Boolean":(s=D(e,U,s))===e&&(s=`new Boolean(${+e})`);break;case"Number":(s=D(e,U,s))===e&&(s=`new Number(${I(+e,1)})`);break;case"String":(s=D(e,U,s))===e&&(s=`new String(${I(n(r(e)),1)})`);break;case"RegExp":(s=D(e,U,s))===e&&(s=r(e));break;case"Date":(s=D(e,U,s))===e&&(s=`new Date(${s=isNaN(e.getDate())?"NaN":I(e.toISOString(),1)})`);break;case"Error":null===(s=S&&S(e))?s=NaN:void 0===s?(_||(_=v.push(A)),s=`(function(f,m,s,e,c){\nvar _,F=G[f]\ntry{_= e?(new F([],m,c)):(new F(m,c))}catch{_=new Error(m,c);_._CyclepackError=f}\ne&&(_.errors=e);s&&(_.stack=s);return _\n})(${s=[I(r(e.constructor.name),1),I(r(e.message),1),e.stack?I(e.stack,1):0,e.errors?I(e.errors,1):0,"cause"in e?`{cause:${I(e.cause,1)}}`:"{}"]})`):"string"!=typeof s&&(u(s,e),s=I(s,1,1));break;case"Array":(s=D(e,U,s))===e&&(s=(s=B(e,l,!(w||$)))||t||m?w||$?`Array(${e.length})`:"[]":NaN);break;case"Set":(s=D(e,U,s))===e&&(e.forEach(function(e){C(e=I(e))&&(this.b=1,g.push(`${this.i}.add(${e})`))},s={b:0,i:l}),s=s.b||t||m?"new Set()":NaN);break;case"Map":(s=D(e,U,s))===e&&(e.forEach(function(e,r){if(i(r,j,O,S)){var t=h.length,a=g.length,n=k.length;C(e=I(e))&&(C(r=I(r,1))?(this.b=1,g.push(`${this.i}.set(${r},${e})`)):(h.length=t,g.length=a,k.length=n))}},s={b:0,i:l}),s=s.b||t||m?"new Map()":NaN);break;case"URL":case"URLSearchParams":(s=D(e,U,U=s))===e&&(s=`new ${U}(${I(r(e),1)})`);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"BigInt64Array":case"BigUint64Array":case"Float16Array":case"Float32Array":case"Float64Array":(s=D(e,U,U=s))===e&&(s=`new ${U}(${I(e.buffer,1)})`);break;case"ArrayBuffer":(s=D(e,U,s))===e&&(s=`(new Uint8Array([${new Uint8Array(e)}])).buffer`);break;default:U&&U!==Object.prototype?o(U)?(C(U=I(U))||(U=null),s=function(e,r){for(var t,a,c=!1,s=0,o=Object.keys(e);s<o.length;++s){try{a=e[t=o[s]]}catch(u){continue}C(a=I(a))&&(c=!0,g.push(`${r}[${t!==(t=n(t))?t:I(t,1)}]=${a}`))}return E(e,r)||c}(e,l),s=s||U||t||m?`Object.create(${U})`:NaN):null===(s=O&&O(e))?s=NaN:void 0===s?(U=r(U.constructor.name),s=(s=B(e,l))||t||m?function(e,r){if(_||(_=v.push(A)),f||(f={},v.push('var CyclepackClass=G.CyclepackClass||(G.CyclepackClass=Object.create(null))\nfunction c(f,v){Object.defineProperty(f.prototype,"_CyclepackClass",{value:v})}\nfunction n(v){return new CyclepackClass[v]()}')),!(e in f)){var t=f[e]=`"${y(e)}"`,a=`CyclepackClass[${t}]`;v.push(`${a}||c(${a}=function(){},${t})`)}return`n(${r})`}(U,I(U,1)):NaN):"string"!=typeof s&&(u(s,e),s=I(s,1,1)):s=(s=B(e,l))||t||m?U?"{}":"Object.create(null)":NaN}}s==s?(e=l,k.push(`${e}=${s}`)):(e="void 0",d.push(h.pop()))}else e="v"+l}else e="void 0";return a&&--w,e}switch(I(e),v.length+k.length+g.length){case 0:U="void 0";break;case 1:U=k[0].slice(3);break;default:v.push("var"),U=`(function() {\n${v.join("\n")}\n${k.join(",\n")}\n${g.join("\n")}\nreturn v0\n})()`}return U}const j={encode:$,decode:N,uneval:m};exports.decode=N,exports.default=j,exports.encode=$,exports.uneval=m;
